{% extends 'base.html.twig' %}

{% block body %}
    <!-- ======= Portfolio Details Section ======= -->
    <section id="portfolio-details" class="portfolio-details">
        <div class="container">
            <div class="mb-8 p-4">
                {% block bread %}
                    → <a href="{{ path('app_profile') }}">Profile</a> → <a href="{{ path('app_projects') }}">Portfolio</a> → {{ project.title }}
                {% endblock %}
            </div>
            <div class="row gy-4">
                <div class="col-lg-8">
                    <div class="portfolio-details-slider swiper">
                        <div class="swiper-wrapper align-items-center">
                            <div class="video-container">
                                <video controls width="800" height="400">
                                    <source src="{{ asset(project.video) }}" type="video/mp4">
                                </video>
                            </div>
                        </div>
                        <div class="swiper-pagination"></div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="portfolio-info">
                        <h3>Project information</h3>
                        <ul>
                            <li><strong>Category</strong>: {{ project.category }}</li>
                            <li><strong>Framework</strong>: {{ project.framework }}</li>
                            <li><strong>Project date</strong>: {{ project.projectDate }}</li>
                            <li><strong>Project URL</strong>: <a href="{{ project.projectLink }}" target="_blank">{{ project.projectLink }}</a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="row mt-4">
                <div class="col-lg-12">
                    <div class="portfolio-description">
                        <h2>Description</h2>
                        <p>
                            {{ project.description }}
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section><!-- End Portfolio Details Section -->

{% endblock %}

{% block javascripts %}
    <script>
        // Get the current URL path
        var path = window.location.pathname;

        // Find the "Portfolio" link in the navigation menu and add the 'active' class
        document.querySelectorAll('.nav-link').forEach(function (link) {
            if (path.includes("{{ path('app_projects_show', {project: project.id}) }}")) {
                document.querySelector('.nav-link[href="{{ path('app_projects') }}"]').classList.add('active');
            }
        });
    </script>
{% endblock %}
